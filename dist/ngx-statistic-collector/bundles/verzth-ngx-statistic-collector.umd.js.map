{"version":3,"file":"verzth-ngx-statistic-collector.umd.js.map","sources":["ng://@verzth/ngx-statistic-collector/lib/ngx-statistic-collector.config.ts","ng://@verzth/ngx-statistic-collector/lib/ngx-statistic-collector.service.ts","ng://@verzth/ngx-statistic-collector/interceptors/AuthorizationInterceptor.ts","ng://@verzth/ngx-statistic-collector/lib/ngx-statistic-collector.module.ts"],"sourcesContent":["import {Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class NgxStatisticCollectorConfig {\n  private host: string;\n  private key: string;\n  constructor(){}\n  setHost(host: string){\n    this.host = host;\n    return this;\n  }\n  getHost(){\n    return this.host;\n  }\n  setKey(key: string){\n    this.key = key;\n    return this;\n  }\n  getKey(){\n    return this.key;\n  }\n}\n\nexport const TIME = {\n  HOURLY: 'hourly',\n  DAILY: 'daily',\n  WEEKLY: 'weekly',\n  MONTHLY: 'monthly',\n};\n","import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {GeneralResponse} from '../interfaces/GeneralResponse';\nimport EventParams from '../interfaces/EventParams';\nimport ContentParams from '../interfaces/ContentParams';\nimport HitParams from '../interfaces/HitParams';\nimport {NgxStatisticCollectorConfig} from './ngx-statistic-collector.config';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxStatisticCollectorService {\n\n  constructor(private http: HttpClient, private config: NgxStatisticCollectorConfig) {\n\n  }\n\n  getHits(time: string, params: HitParams): Observable<GeneralResponse<any>> {\n    return this.http.post<any>(\n      this.config.getHost() + 'hit/' + time,\n      params\n    );\n  }\n\n  getContents(time: string, params: ContentParams): Observable<GeneralResponse<any>> {\n    return this.http.post<any>(\n      this.config.getHost() + 'content/' + time,\n      params\n    );\n  }\n\n  getEvents(time: string, params: EventParams): Observable<GeneralResponse<any>> {\n    return this.http.post<any>(\n      this.config.getHost() + 'event/' + time,\n      params\n    );\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {NgxStatisticCollectorConfig} from '../lib/ngx-statistic-collector.config';\n\n@Injectable()\nexport class AuthorizationInterceptor implements HttpInterceptor{\n  constructor(private config: NgxStatisticCollectorConfig){}\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\n    const secureReq = req.clone( {\n      headers: req.headers\n        .set('Authorization', 'Basic ' + btoa(this.config.getKey() + ':')),\n      body: req.body\n    });\n    return next.handle(secureReq);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport {NgxStatisticCollectorService} from './ngx-statistic-collector.service';\nimport {HTTP_INTERCEPTORS} from '@angular/common/http';\nimport {AuthorizationInterceptor} from '../interceptors/AuthorizationInterceptor';\nimport {NgxStatisticCollectorConfig} from './ngx-statistic-collector.config';\n\n\n\n@NgModule({\n  declarations: [],\n  imports: [],\n  exports: [],\n  providers: [\n    {provide: HTTP_INTERCEPTORS, useClass: AuthorizationInterceptor, multi: true},\n    {provide: NgxStatisticCollectorService, useClass: NgxStatisticCollectorService},\n    {provide: NgxStatisticCollectorConfig, useClass: NgxStatisticCollectorConfig},\n  ]\n})\nexport class NgxStatisticCollectorModule { }\n"],"names":["Injectable","HttpClient","NgModule","HTTP_INTERCEPTORS"],"mappings":";;;;;;;;;;;AAAA;QAQE;SAAe;;;;;;;QACf,6CAAO;;;;;;YAAP,UAAQ,IAAY;gBAClB,mBAAA,IAAI,GAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,0BAAO,IAAI,GAAC;aACb;;;;QACD,6CAAO;;;YAAP;gBACE,OAAO,IAAI,CAAC,IAAI,CAAC;aAClB;;;;;;;QACD,4CAAM;;;;;;YAAN,UAAO,GAAW;gBAChB,mBAAA,IAAI,GAAC,GAAG,GAAG,GAAG,CAAC;gBACf,0BAAO,IAAI,GAAC;aACb;;;;QACD,4CAAM;;;YAAN;gBACE,OAAO,IAAI,CAAC,GAAG,CAAC;aACjB;;oBApBFA,aAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;;;0CAJD;KAEA;;;;;;;ACFA;QAcE,sCAAoB,IAAgB,EAAU,MAAmC;YAA7D,SAAI,GAAJ,IAAI,CAAY;YAAU,WAAM,GAAN,MAAM,CAA6B;SAEhF;;;;;;QAED,8CAAO;;;;;YAAP,UAAQ,IAAY,EAAE,MAAiB;gBACrC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,MAAM,GAAG,IAAI,EACrC,MAAM,CACP,CAAC;aACH;;;;;;QAED,kDAAW;;;;;YAAX,UAAY,IAAY,EAAE,MAAqB;gBAC7C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,UAAU,GAAG,IAAI,EACzC,MAAM,CACP,CAAC;aACH;;;;;;QAED,gDAAS;;;;;YAAT,UAAU,IAAY,EAAE,MAAmB;gBACzC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,QAAQ,GAAG,IAAI,EACvC,MAAM,CACP,CAAC;aACH;;oBA5BFA,aAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;;;wBAVOC,aAAU;wBAMV,2BAA2B;;;;2CAPnC;KASA;;;;;;;ACTA;QAME,kCAAoB,MAAmC;YAAnC,WAAM,GAAN,MAAM,CAA6B;SAAG;;;;;;QAC1D,4CAAS;;;;;YAAT,UAAU,GAAqB,EAAE,IAAiB;;oBAC1C,SAAS,GAAG,GAAG,CAAC,KAAK,CAAE;oBAC3B,OAAO,EAAE,GAAG,CAAC,OAAO;yBACjB,GAAG,CAAC,eAAe,EAAE,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;oBACpE,IAAI,EAAE,GAAG,CAAC,IAAI;iBACf,CAAC;gBACF,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;aAC/B;;oBAVFD,aAAU;;;;;wBAFH,2BAA2B;;;QAanC,+BAAC;KAXD;;;;;;;ACJA;QAQA;SAU4C;;oBAV3CE,WAAQ,SAAC;wBACR,YAAY,EAAE,EAAE;wBAChB,OAAO,EAAE,EAAE;wBACX,OAAO,EAAE,EAAE;wBACX,SAAS,EAAE;4BACT,EAAC,OAAO,EAAEC,oBAAiB,EAAE,QAAQ,EAAE,wBAAwB,EAAE,KAAK,EAAE,IAAI,EAAC;4BAC7E,EAAC,OAAO,EAAE,4BAA4B,EAAE,QAAQ,EAAE,4BAA4B,EAAC;4BAC/E,EAAC,OAAO,EAAE,2BAA2B,EAAE,QAAQ,EAAE,2BAA2B,EAAC;yBAC9E;qBACF;;QAC0C,kCAAC;KAV5C;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
